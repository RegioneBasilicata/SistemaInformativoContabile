<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=Cp1252" />
<script src="../dbdoc.js" type="text/javascript"></script>
<link href="../dbdoc.css" type="text/css" rel="stylesheet">
</head>
<body class="object">
<div id="header"><h2>FIN_V_GIORNALE_MOVIMENTI_ENTE</h2>
<div class="tabs clearfix">

<div class="tab"><div><a href="FIN_V_GIORNALE_MOVIMENTI_ENTE.html">Colonne</a></div></div>
<div class="tab"><div><a href="FIN_V_GIORNALE_MOVIMENTI_ENTE_Autorizzazioni.html">Autorizzazioni</a></div></div>
<div class="tab"><div><a href="FIN_V_GIORNALE_MOVIMENTI_ENTE_Dipendenze.html">Dipendenze</a></div></div>
<div class="tab" id="current"><div><a href="FIN_V_GIORNALE_MOVIMENTI_ENTE_Dettagli.html">Dettagli</a></div></div>
<div class="tab"><div><a href="FIN_V_GIORNALE_MOVIMENTI_ENTE_Trigger.html">Trigger</a></div></div>
</div></div><br/>
<div class="tab-panes">
<div id="Dettagli"> <table cellpadding="0" cellspacing="0" cellspacing="0" summary=""><tr>
	<th>Name</th>
	<th>Value</th>
</tr>
	<tr>
<td>CREATED</td>
<td>2018-02-09</td>
	</tr>
	<tr>
<td>LAST_DDL_TIME</td>
<td>2019-06-10</td>
	</tr>
	<tr>
<td>OWNER</td>
<td>GAT2</td>
	</tr>
	<tr>
<td>VIEW_NAME</td>
<td>FIN_V_GIORNALE_MOVIMENTI_ENTE</td>
	</tr>
	<tr>
<td>TEXT_LENGTH</td>
<td>3019</td>
	</tr>
	<tr>
<td>TEXT</td>
<td>select 
--substr(e.identificativo_flusso,1,4) esercizio_distinta,
--substr(e.identificativo_flusso,6,instr(e.identificativo_flusso,'v')-6) distinta,
e.esercizio,
e.tipo_ordine tipo_documento,
e.numero_ordine numero_documento,
e.data_ordine data_documento,
numero_distinta,
e.importo,
e.progressivo_soggetto,
e.esito_operazione,
e.data_ora_esito_operazione,
e.progr_esito_applicativo,
e.data_produzione,
e.testata,
e.identificativo_flusso,
e.identificativo_flusso_bt,
--e.location,
case 
	when (select count(*) from siope_errori_esiti_appl e1 where e1.progr_esito_applicativo = e.progr_esito_applicativo) > 0 
     then 'In Errore' 
     else 'Nessun errore'
end as Errori
from siope_esiti_applicativi e,
fin_distinte_mand_dettaglio m
where upper(e.tipo_ordine) = 'MANDATO'
--and e.esercizio = nvl(:esercizio,e.esercizio) 
and trunc(e.data_ora_esito_operazione,'dd') = (select max(trunc(z.data_ora_esito_operazione,'dd')) from siope_esiti_applicativi z where e.tipo_ordine=z.tipo_ordine and e.numero_ordine=z.numero_ordine and e.esercizio=z.esercizio)
and e.data_produzione = (select max(z.data_produzione) from siope_esiti_applicativi z where e.tipo_ordine=z.tipo_ordine and e.numero_ordine=z.numero_ordine and e.esercizio=z.esercizio)
and m.numero_mandato(+)=((e.esercizio*100000)+numero_ordine)
and m.tipo_mandato(+)&lt;>'A'
and m.numero_distinta= (select max(x.numero_distinta) from fin_distinte_mand_dettaglio x where x.numero_mandato=((e.esercizio*100000)+numero_ordine) and x.tipo_mandato(+)&lt;>'A')
union all
select 
--substr(e.identificativo_flusso,1,4) esercizio_distinta,
--substr(e.identificativo_flusso,6,instr(e.identificativo_flusso,'v')-6) distinta,
e.esercizio,
e.tipo_ordine tipo_documento,
e.numero_ordine numero_documento,
e.data_ordine data_documento,
numero_distinta,
e.importo,
e.progressivo_soggetto,
e.esito_operazione,
e.data_ora_esito_operazione,
e.progr_esito_applicativo,
e.data_produzione,
e.testata,
e.identificativo_flusso,
e.identificativo_flusso_bt,
--e.location,
case 
	when (select count(*) from siope_errori_esiti_appl e1 where e1.progr_esito_applicativo = e.progr_esito_applicativo) > 0 
     then 'In Errore' 
     else 'Nessun errore'
end as Errori
from siope_esiti_applicativi e,
fin_distinte_rev_dettaglio m
where upper(e.tipo_ordine) = 'REVERSALE'
--and e.esercizio = nvl(:esercizio,e.esercizio) 
and trunc(e.data_ora_esito_operazione,'dd') = (select max(trunc(z.data_ora_esito_operazione,'dd')) from siope_esiti_applicativi z where e.tipo_ordine=z.tipo_ordine and e.numero_ordine=z.numero_ordine and e.esercizio=z.esercizio)
and e.data_produzione = (select max(z.data_produzione) from siope_esiti_applicativi z where e.tipo_ordine=z.tipo_ordine and e.numero_ordine=z.numero_ordine and e.esercizio=z.esercizio)
and m.numero_reversale(+)=((e.esercizio*100000)+numero_ordine)
and m.tipo_reversale(+)&lt;>'A'
and m.numero_distinta= (select max(x.numero_distinta) from fin_distinte_rev_dettaglio x where x.numero_reversale=((e.esercizio*100000)+numero_ordine) and x.tipo_reversale(+)&lt;>'A')</td>
	</tr>
	<tr>
<td>TYPE_TEXT_LENGTH</td>
<td>null</td>
	</tr>
	<tr>
<td>TYPE_TEXT</td>
<td>null</td>
	</tr>
	<tr>
<td>OID_TEXT_LENGTH</td>
<td>null</td>
	</tr>
	<tr>
<td>OID_TEXT</td>
<td>null</td>
	</tr>
	<tr>
<td>VIEW_TYPE_OWNER</td>
<td>null</td>
	</tr>
	<tr>
<td>VIEW_TYPE</td>
<td>null</td>
	</tr>
	<tr>
<td>SUPERVIEW_NAME</td>
<td>null</td>
	</tr>
	<tr>
<td>EDITIONING_VIEW</td>
<td>N</td>
	</tr>
	<tr>
<td>READ_ONLY</td>
<td>N</td>
	</tr>
</table></div>