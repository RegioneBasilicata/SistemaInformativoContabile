<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=Cp1252" />
<script src="../dbdoc.js" type="text/javascript"></script>
<link href="../dbdoc.css" type="text/css" rel="stylesheet">
</head>
<body class="object">
<div id="header"><h2>VW_MOVIMENTI_DATA</h2>
<div class="tabs clearfix">

<div class="tab"><div><a href="VW_MOVIMENTI_DATA.html">Colonne</a></div></div>
<div class="tab"><div><a href="VW_MOVIMENTI_DATA_Autorizzazioni.html">Autorizzazioni</a></div></div>
<div class="tab"><div><a href="VW_MOVIMENTI_DATA_Dipendenze.html">Dipendenze</a></div></div>
<div class="tab" id="current"><div><a href="VW_MOVIMENTI_DATA_Dettagli.html">Dettagli</a></div></div>
<div class="tab"><div><a href="VW_MOVIMENTI_DATA_Trigger.html">Trigger</a></div></div>
</div></div><br/>
<div class="tab-panes">
<div id="Dettagli"> <table cellpadding="0" cellspacing="0" cellspacing="0" summary=""><tr>
	<th>Name</th>
	<th>Value</th>
</tr>
	<tr>
<td>CREATED</td>
<td>2011-12-07</td>
	</tr>
	<tr>
<td>LAST_DDL_TIME</td>
<td>2017-06-07</td>
	</tr>
	<tr>
<td>OWNER</td>
<td>GAT2</td>
	</tr>
	<tr>
<td>VIEW_NAME</td>
<td>VW_MOVIMENTI_DATA</td>
	</tr>
	<tr>
<td>TEXT_LENGTH</td>
<td>4319</td>
	</tr>
	<tr>
<td>TEXT</td>
<td>select d.segment8 anno
,d.DATE_CREATED data
,substr(d.segment2,1,1) eu
,substr(d.segment2,2,5) capitolo
,sum(decode(d.DOC_TYPE,'BLOCCO_COMPE',d.document_amount,0)- decode(d.DOC_TYPE,'SBLOCCO_COMPE',d.document_amount,0)) competenza_bloccata
,sum(decode(d.DOC_TYPE,'BLOCCO_CASSA',d.document_amount,0)- decode(d.DOC_TYPE,'SBLOCCO_CASSA',d.document_amount,0)) cassa_bloccata
,SUM(decode(d.doc_type,'V_COM_POS',d.DOCUMENT_AMOUNT,0) - decode(d.doc_type,'V_COM_NEG',d.DOCUMENT_AMOUNT,0)) var_compe
,SUM(decode(d.doc_type,'V_CAS_POS',d.DOCUMENT_AMOUNT,0) - decode(d.doc_type,'V_CAS_NEG',d.DOCUMENT_AMOUNT,0)) var_cassa,
sum(decode(d.segment9||d.doc_type,'MUTUIA_COM_POS',d.DOCUMENT_AMOUNT,0)
+ decode(d.segment9||d.doc_type,'MUTUINA_COM_POS',d.DOCUMENT_AMOUNT,0)
+ decode(d.segment9||d.doc_type,'OBBLIGA_COM_POS',d.DOCUMENT_AMOUNT,0)
- decode(d.segment9||d.doc_type,'MUTUIA_COM_NEG',d.DOCUMENT_AMOUNT,0)
- decode(d.segment9||d.doc_type,'MUTUINA_COM_NEG',d.DOCUMENT_AMOUNT,0)
- decode(d.segment9||d.doc_type,'OBBLIGA_COM_NEG',d.DOCUMENT_AMOUNT,0)) assestamento_compe_MUTUI,
sum(decode(d.segment9||d.doc_type,'UEA_COM_POS',d.DOCUMENT_AMOUNT,0) - decode(d.segment9||d.doc_type,'UEA_COM_NEG',d.DOCUMENT_AMOUNT,0)) assestamento_compe_UE, 
sum(decode(d.segment9||d.doc_type,'ALTRI VINA_COM_POS',d.DOCUMENT_AMOUNT,0) - decode(d.segment9||d.doc_type,'ALTRI VINA_COM_NEG',d.DOCUMENT_AMOUNT,0))asstamento_compe_ALTRI_VIN,
sum(decode(d.segment9||d.doc_type,'STATOA_COM_POS',d.DOCUMENT_AMOUNT,0) - decode(d.segment9||d.doc_type,'STATOA_COM_NEG',d.DOCUMENT_AMOUNT,0)) assestamento_compe_STATO,
sum(decode(d.segment9||d.doc_type,'REG VINA_COM_POS',d.DOCUMENT_AMOUNT,0) - decode(d.segment9||d.doc_type,'REG VINA_COM_NEG',d.DOCUMENT_AMOUNT,0))assestamento_compe_REG_VIN,
sum(decode(d.segment9||d.doc_type,'NAA_COM_POS',d.DOCUMENT_AMOUNT,0) - decode(d.segment9||d.doc_type,'NAA_COM_NEG',d.DOCUMENT_AMOUNT,0))assestamento_compe_NA,
sum(decode(d.segment9||d.doc_type,'AVANZOA_COM_POS',d.DOCUMENT_AMOUNT,0) - decode(d.segment9||d.doc_type,'AVANZOA_COM_NEG',d.DOCUMENT_AMOUNT,0))assestamento_compe_AVANZO,
sum(decode(d.segment9||d.doc_type,'AV_REGA_COM_POS',d.DOCUMENT_AMOUNT,0) - decode(d.segment9||d.doc_type,'AV_REGA_COM_NEG',d.DOCUMENT_AMOUNT,0))assestamento_compe_AV_REG,
sum(decode(d.segment9||d.doc_type,'ALIENA_COM_POS',d.DOCUMENT_AMOUNT,0) - decode(d.segment9||d.doc_type,'ALIENA_COM_NEG',d.DOCUMENT_AMOUNT,0))assestamento_compe_ALIENAZIONI,
sum(decode(d.segment9||d.doc_type,'REGIONEA_COM_POS',d.DOCUMENT_AMOUNT,0) - decode(d.segment9||d.doc_type,'REGIONEA_COM_NEG',d.DOCUMENT_AMOUNT,0))assestamento_compe_REGIONE,
sum(decode(d.segment9||d.doc_type,'AIUTIA_COM_POS',d.DOCUMENT_AMOUNT,0) - decode(d.segment9||d.doc_type,'AIUTIA_COM_NEG',d.DOCUMENT_AMOUNT,0))assestamento_compe_AIUTI,
sum(decode(d.segment9||d.doc_type,'A_COM_POS',d.DOCUMENT_AMOUNT,0) - decode(d.segment9||d.doc_type,'A_COM_NEG',d.DOCUMENT_AMOUNT,0)) assestamento_compe_LIBERO,
SUM(decode(d.doc_type,'A_CAS_POS',d.DOCUMENT_AMOUNT,0) - decode(d.doc_type,'A_CAS_NEG',d.DOCUMENT_AMOUNT,0)) ass_cassa,
SUM(decode(d.doc_type,'PRE-IMP',d.open_balance_proposed,0)) pre_imp,
SUM(decode(d.doc_type,'IMP',d.DOCUMENT_AMOUNT,'IMP-PER',d.DOCUMENT_AMOUNT,'IMP-DEF',d.DOCUMENT_AMOUNT,0)) impegni_compe,
SUM(decode(sign(d1.segment8-d.segment8),0,decode(d.doc_type,'MAND',d.open_balance_proposed,0),0)) mand_compe,
SUM(decode(sign(d1.segment8-d.segment8),-1,decode(d.doc_type,'MAND',d.open_balance_proposed,0),0)) mand_res,
SUM(decode(d.doc_type,'ACC',d.document_amount,0)) acc_compe,
SUM(decode(sign(d1.segment8-d.segment8),0,decode(d.doc_type,'REV',d.open_balance_proposed,0),0)) rev_compe,
SUM(decode(sign(d1.segment8-d.segment8),-1,decode(d.doc_type,'REV',d.open_balance_proposed,0),0)) rev_res
from fin_t_documenti d
,fin_t_documenti d1
where d.doc_type in ('V_COM_POS','V_COM_NEG','A_COM_POS','A_COM_NEG','V_CAS_POS','V_CAS_NEG','A_CAS_POS','A_CAS_NEG'
,'IMP','IMP-PER','IMP-DEF','MAND','ACC','REV','PRE-IMP'
,'BLOCCO_COMPE','SBLOCCO_COMPE','BLOCCO_CASSA','SBLOCCO_CASSA')
AND upper(nvl(d.deletion_status_flag,'X')) &lt;> 'Y'
and upper(nvl(d.PROPOSAL_STATUS_FLAG,'X'))||upper(nvl(d.AUDITING_STATUS_FLAG,'X')) = 'PI'
and d1.doc_id = nvl(d.doc_id_capo_filiera,d.doc_id)
and d.segment8 > 2005
group by d.segment8,d.date_created,substr(d.segment2,1,1),substr(d.segment2,2,5)
order by 1,2,3,4</td>
	</tr>
	<tr>
<td>TYPE_TEXT_LENGTH</td>
<td>null</td>
	</tr>
	<tr>
<td>TYPE_TEXT</td>
<td>null</td>
	</tr>
	<tr>
<td>OID_TEXT_LENGTH</td>
<td>null</td>
	</tr>
	<tr>
<td>OID_TEXT</td>
<td>null</td>
	</tr>
	<tr>
<td>VIEW_TYPE_OWNER</td>
<td>null</td>
	</tr>
	<tr>
<td>VIEW_TYPE</td>
<td>null</td>
	</tr>
	<tr>
<td>SUPERVIEW_NAME</td>
<td>null</td>
	</tr>
	<tr>
<td>EDITIONING_VIEW</td>
<td>N</td>
	</tr>
	<tr>
<td>READ_ONLY</td>
<td>N</td>
	</tr>
</table></div>