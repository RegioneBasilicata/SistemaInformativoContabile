<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=Cp1252" />
<script src="../dbdoc.js" type="text/javascript"></script>
<link href="../dbdoc.css" type="text/css" rel="stylesheet">
</head>
<body class="object">
<div id="header"><h2>VW_NB_MASTRINI</h2>
<div class="tabs clearfix">

<div class="tab"><div><a href="VW_NB_MASTRINI.html">Colonne</a></div></div>
<div class="tab"><div><a href="VW_NB_MASTRINI_Autorizzazioni.html">Autorizzazioni</a></div></div>
<div class="tab"><div><a href="VW_NB_MASTRINI_Dipendenze.html">Dipendenze</a></div></div>
<div class="tab" id="current"><div><a href="VW_NB_MASTRINI_Dettagli.html">Dettagli</a></div></div>
<div class="tab"><div><a href="VW_NB_MASTRINI_Trigger.html">Trigger</a></div></div>
</div></div><br/>
<div class="tab-panes">
<div id="Dettagli"> <table cellpadding="0" cellspacing="0" cellspacing="0" summary=""><tr>
	<th>Name</th>
	<th>Value</th>
</tr>
	<tr>
<td>CREATED</td>
<td>2015-05-14</td>
	</tr>
	<tr>
<td>LAST_DDL_TIME</td>
<td>2019-06-05</td>
	</tr>
	<tr>
<td>OWNER</td>
<td>GAT2</td>
	</tr>
	<tr>
<td>VIEW_NAME</td>
<td>VW_NB_MASTRINI</td>
	</tr>
	<tr>
<td>TEXT_LENGTH</td>
<td>4604</td>
	</tr>
	<tr>
<td>TEXT</td>
<td>SELECT p.tipo tipo_conto_bil ,
    p.conto_vis codice_conto_bil ,
    p.descrizione desc_conto_bil ,
    t.doc_id doc_id,
    d.expedient_id,
    to_char(t.data,'yyyy') anno,
    t.num_reg numero_registrazione,
    t.data data_registrazione , 
    x.descrizione causale,
    t.descrizione_mov desc_movimento ,
    d.doc_type tipo_doc ,
    d.doc_sequence_value numero_doc ,
    d.description oggetto_doc ,
    NVL(d.document_amount,0) importo_doc ,
    NVL(c.importo,0) importo_mov ,
    d.segment2 capitolo ,
    a.descrizione desc_capitolo ,
    c.progr progr,
    c.d_a dare_avere ,
    c.conto,
    d.attribute16 pcf,
    c.missione,
    c.programma,
    c.note,
    p.d_a d_a_conto --serve per determinare il segno del saldo
  FROM nb_prima_nota_corpo c,
    nb_prima_nota_testa t,
    fin_t_documenti d,
    fin_t_articoli a,
    nb_piacee p,
    nb_causali_contabili x
  WHERE t.data  = c.t_data
  AND t.num_reg = c.t_num_reg
  AND nvl(t.doc_id,0) > 0
  AND d.doc_id  = t.doc_id
  AND a.anno    = d.segment8
  AND a.eu
    ||a.codice     = d.segment2
   AND p.conto_vis IN
    (SELECT sp.conto_bilcee
    FROM nb_psp_07 sp
    WHERE sp.anno = to_number(TO_CHAR(c.t_data,'yyyy'))
    AND sp.codice = c.conto
    )
    AND t.causale = x.CODICE
  UNION ALL
SELECT p.tipo tipo_conto_bil ,
    p.conto_vis codice_conto_bil ,
    p.descrizione desc_conto_bil ,
    t.doc_id doc_id,
    d.expedient_id,
    to_char(t.data,'yyyy') anno,
    t.num_reg numero_registrazione,
    t.data data_registrazione ,
    x.descrizione causale,
    t.descrizione_mov desc_movimento ,
    d.doc_type tipo_doc ,
    d.doc_sequence_value numero_doc ,
    d.description oggetto_doc ,
    NVL(d.document_amount,0) importo_doc ,
    NVL(c.importo,0) importo_mov ,
    d.segment2 capitolo ,
    a.descrizione desc_capitolo ,
    c.progr progr,
    c.d_a dare_avere ,
    c.conto,
    d.attribute16 pcf,
    c.missione,
    c.programma,
    c.note,
    p.d_a d_a_conto --serve per determinare il segno del saldo
  FROM nb_prima_nota_corpo c ,
    nb_prima_nota_testa t ,
    fin_t_documenti d ,
    fin_t_articoli a ,
    nb_piacee p,
    nb_causali_contabili x
  WHERE t.data  = c.t_data
  AND t.num_reg = c.t_num_reg
  AND nvl(t.doc_id,0) > 0
  AND d.doc_id  = t.doc_id
  AND a.anno    = d.segment8
  AND a.eu||a.codice     = d.segment2
  AND p.conto_vis IN
    (SELECT ec.conto_bilcee
    FROM nb_pce_06 ec
    WHERE ec.anno = to_number(TO_CHAR(c.t_data,'yyyy'))
    AND ec.codice = c.conto
    )
     AND t.causale = x.CODICE
  UNION ALL
  SELECT p.tipo tipo_conto_bil ,
    p.conto_vis codice_conto_bil ,
    p.descrizione desc_conto_bil ,
    t.doc_id doc_id,
    null expedient_id,
    to_char(t.data,'yyyy') anno,
    t.num_reg numero_registrazione,
    t.data data_registrazione ,
    x.descrizione causale,
    t.descrizione_mov desc_movimento ,
    NULL tipo_doc ,
    NULL numero_doc ,
    NULL oggetto_doc ,
    0 importo_doc ,
    NVL(c.importo,0) importo_mov ,
    NULL capitolo ,
    NULL desc_capitolo ,
    c.progr progr,
    c.d_a dare_avere ,
    c.conto,
    NULL,
    c.missione,
    c.programma,
    c.note,
    p.d_a d_a_conto --serve per determinare il segno del saldo
  FROM nb_prima_nota_corpo c ,
    nb_prima_nota_testa t ,
    nb_piacee p,
    nb_causali_contabili x
  WHERE t.data     = c.t_data
  AND t.num_reg    = c.t_num_reg
  AND nvl(t.doc_id,0) = 0  
  AND p.conto_vis IN
    (SELECT sp.conto_bilcee
    FROM nb_psp_07 sp
    WHERE sp.anno = to_number(TO_CHAR(c.t_data,'yyyy'))
    AND sp.codice = c.conto
    )
    AND t.causale = x.CODICE
    UNION ALL
  SELECT p.tipo tipo_conto_bil ,
    p.conto_vis codice_conto_bil ,
    p.descrizione desc_conto_bil ,
    t.doc_id doc_id,
    null expedient_id,
    to_char(t.data,'yyyy') anno,
    t.num_reg numero_registrazione,
    t.data data_registrazione ,
    x.descrizione causale,
    t.descrizione_mov desc_movimento ,
    NULL tipo_doc ,
    NULL numero_doc ,
    NULL oggetto_doc ,
    0 importo_doc ,
    NVL(c.importo,0) importo_mov ,
    NULL capitolo ,
    NULL desc_capitolo ,
    c.progr progr,
    c.d_a dare_avere ,
    c.conto,
    NULL,
    c.missione,
    c.programma,
    c.note,
    p.d_a d_a_conto --serve per determinare il segno del saldo
  FROM nb_prima_nota_corpo c ,
    nb_prima_nota_testa t ,
    nb_piacee p,
    nb_causali_contabili x
  WHERE t.data     = c.t_data
  AND t.num_reg    = c.t_num_reg
  AND nvl(t.doc_id,0) = 0
  AND p.conto_vis IN
     (SELECT ec.conto_bilcee
    FROM nb_pce_06 ec
    WHERE ec.anno = to_number(TO_CHAR(c.t_data,'yyyy'))
    AND ec.codice = c.conto
    )
    AND t.causale = x.CODICE</td>
	</tr>
	<tr>
<td>TYPE_TEXT_LENGTH</td>
<td>null</td>
	</tr>
	<tr>
<td>TYPE_TEXT</td>
<td>null</td>
	</tr>
	<tr>
<td>OID_TEXT_LENGTH</td>
<td>null</td>
	</tr>
	<tr>
<td>OID_TEXT</td>
<td>null</td>
	</tr>
	<tr>
<td>VIEW_TYPE_OWNER</td>
<td>null</td>
	</tr>
	<tr>
<td>VIEW_TYPE</td>
<td>null</td>
	</tr>
	<tr>
<td>SUPERVIEW_NAME</td>
<td>null</td>
	</tr>
	<tr>
<td>EDITIONING_VIEW</td>
<td>N</td>
	</tr>
	<tr>
<td>READ_ONLY</td>
<td>N</td>
	</tr>
</table></div>